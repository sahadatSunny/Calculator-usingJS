<!-- 
https://freshman.tech/calculator/

    // 1. Final Full Object - Calculator
    // 2.                       - Diplayer
    // 3.                       - Keypad

    // Displayer
    //      Action : display()
    //  

    // Keypad
    //   AC   : resetDisplay() / allClear() 
    //   =    ; prepareResult() , Displayer.display()
    //   1,2.. : userInputs() , Displayer.display()
    //   +/+    : add() / substract       
 -->



<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" id="link-id" type="text/css" href="style-light.css">
    <title>Calculator</title>
</head>
<body>
   

    <div id="color-btn">


        <div class="msg"><p>Switch to</p></div>        
        <div class="color-btn"><button id="light-btn" type="button" value="">Light mode</button></div>
        <div class="color-btn"><button id="dark-btn" type="button" value="">Dark mode</button></div>
            
    </div>


    <section>

            <div id="displayer">
                    <input class="col-4 preview" type="text" value="" name="input-1" id="input-1" disabled>
                <div class="row">
                    <input class="col-3 preview" type="text" value="" name="operator" id="sltdOperator" disabled>
                    <input class="col-9 preview" type="text" value="" name="input-2" id="input-2" disabled>
                </div>
                <div class="previewContainer"></div>
                    <input class="cal-screen" type="text" value="0" name="result" id="result" disabled>
            </div>

            <div id="inputs" class="row">

                <div class="section-1 col-9">
                    
                    
                    <div class="row">
                    <div class="btn digits col-4"><button class="operators" type="button" value="+">+</button></div>
                    <div class="btn digits col-4"><button class="operators" type="button" value="-">-</button></div>
                    <div class="btn digits col-4"><button class="operators" type="button" value="*">&times</button></div>
                    </div> 
 
                    <div class="row"> 
                    <div class="digits col-4"><button class="numbers" type="button" value="1">1</button></div>
                    <div class="digits col-4"><button class="numbers" type="button" value="2">2</button></div>
                    <div class="digits col-4"><button class="numbers" type="button" value="3">3</button></div>
 
                    </div> 
 
                    <div class="row"> 
                    <div class="digits col-4"><button class="numbers" type="button" value="4">4</button></div>
                    <div class="digits col-4"><button class="numbers" type="button" value="5">5</button></div>
                    <div class="digits col-4"><button class="numbers" type="button" value="6">6</button></div>
                    </div> 
 
                    <div class="row"> 
                    <div class="digits col-4"><button class="numbers" type="button" value="7">7</button></div>
                    <div class="digits col-4"><button class="numbers" type="button" value="8">8</button></div>
                    <div class="digits col-4"><button class="numbers" type="button" value="9">9</button></div>
                    </div> 
 
                    <div class="row"> 
                    <div class="digits col-4"><button class="numbers" type="button" value="0">0</button></div>
                    <div class="digits col-4"><button class="dot" type="button" value=".">.</button></div>
                    <div class="digits col-4 ACbtn"><button class="AC" type="button" value="0">AC</button></div>
                    </div>

                </div>


                <div class="section-2 col-3">
                    <div class="btn digits"><button class="operators" type="button" value="/">&divide</button></div>
                    <div class="btn digits equals"><button class="equals" type="button" value="=">=</button></div>

                </div>

            </div>

        </div>
        
        

    </section>



            



<script>

    class Cal{

        constructor(displayInputs, firstInput, operator, secondInput, displayResult){

            this.displayInputs = 0;
            this.firstInput = firstInput;
            this.operator = operator;
            this.secondInput = secondInput;
            this.displayResult = displayResult;
        }

            updatedisplay(input) {
                
                let digit = input;
                // let formValue = document.querySelector('#result');
                // let formValue2 = Number.parseFloat(formValue.value);
                // this.displayInputs = formValue2;
                let concatenate = this.displayInputs + digit;
                let mutation = Number.parseFloat(concatenate);
                this.displayInputs = mutation;
                
                
                            
                            // let updater = this.displayInputs + input;

                            // this.displayInputs = updater;

            }

            dotConcat(dot){
                let add = this.displayInputs + dot;
                this.displayInputs = add;
            }

            screenUpdate(){
                let update = document.querySelector('#result');
                update.value = this.displayInputs;
            
                    // this.displayInputs = displayInputs === '0' ? digit : displayInputs + digit
            }

            screenCleaner(){
                this.displayInputs = 0;
            }
            
            operatorReceiver(operatorInput){
                let operator = operatorInput;
                this.operator = operator;
                
            }

            secondInputReciver(){
                this.firstInput = this.displayInputs;
            }

            watingScreen(){
                let show = document.querySelector('#input-1');
                show.value = this.firstInput;
            }

            displayOperator(){
                let sltdOperator = document.querySelector('#sltdOperator');
                sltdOperator.value = this.operator;
            }

            displayInput2(){
                let input2 = document.querySelector('#input-2');
                input2.value = this.secondInput;
            }


            calculate(operator){
                this.secondInput = this.displayInputs;

                        if (this.operator === '+') {
                            this.displayInputs = this.firstInput + this.secondInput;
                        } 
                        if (this.operator === '-') {
                            this.displayInputs = this.firstInput - this.secondInput;
                        }
                        if (this.operator === '*') {
                            this.displayInputs = this.firstInput * this.secondInput;
                        }
                        if (this.operator === '/') {
                            this.displayInputs = this.firstInput / this.secondInput;
                        }
                        if (this.operator == "%"){
                            this.displayInputs = this.firstInput % this.secondInput;
                        }
                        
            }

            allClear(){
                this.displayInputs = 0;
                this.firstInput = null;
                this.operator = null;
                this.secondInput = null;
                this.displayResult = null;
            
            }

                


}



 let calculator = new Cal();


    console.log(calculator)
    
    


    let keypad = document.querySelector('#inputs');
            // console.log(keypad);


        function targetKey (event){
                let {target} = event;
            if(!target.matches('button')){
                return;
            }
            
            if(target.classList.contains('operators')){
                calculator.operatorReceiver(target.value);
                calculator.secondInputReciver();
                calculator.screenCleaner();
                calculator.screenUpdate();
                calculator.watingScreen();
                calculator.displayOperator();
                return;
                
            }

            if(target.classList.contains('equals')){
                calculator.calculate();
                calculator.screenUpdate();
                calculator.displayInput2();
                return;
            }

            if(target.classList.contains('AC')){
                
                calculator.allClear();
                calculator.screenUpdate();
                calculator.displayInput2();
                calculator.watingScreen();
                calculator.displayOperator();
               
            }
            

            // defult recive set to button with out clases (means digits and point)
           if(target.classList.contains('numbers')){
            calculator.updatedisplay(target.value);
            calculator.screenUpdate();
            }

            if(target.classList.contains('dot')){
                calculator.dotConcat(target.value);
                calculator.screenUpdate();
                

            }


            
        }

        keypad.addEventListener("click", targetKey);




        //Event for dark theme

        let darkBtn = document.getElementById("dark-btn");

           function btnPass(){
               
                let findlink = document.getElementById('link-id')
                findlink.href = "style-dark.css";
            
            };
                
         darkBtn.addEventListener("click", btnPass);


         //Event for light theme

         let lightBtn = document.getElementById("light-btn");

            function lBtnPass(){
                let findlink = document.getElementById('link-id');
                findlink.href = "style-light.css";
                
            };

         lightBtn.addEventListener("click", lBtnPass);



</script>








</body>
</html>